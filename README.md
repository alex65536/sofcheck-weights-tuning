# Weights tuning for SoFCheck

This repository contains notebooks and datasets to tune the evaulation weights in
[SoFCheck chess engine][1].

The engine uses the tuning method described in [this post][2] (in Russian). It is similar to
[Texel's tuning method][3].

## Datasets

Datasets are prepared in [canonical SoFGameSet][8] format, as generated by [BattleField][4]. To
extract CSV with coefficients from these datasets, you need to build SoFCheck and use the
`make_datasets` utility from it. All the data is `bzip2`-compressed to take less disk space.

The datasets are as follows:

- `stockfish_20k.sgs.xz` contains 20000 games played by [Stockfish][5] 13 against itself on short
time control (~100ms).
- `sofcheck1_30k.sgs.xz` contains 30000 games played between SoFCheck commit [`1c75e30`][6] (call
it _v1_) and SoFCheck commmit [`0a52f13`][7] (call it _v2_). 10000 games were played v1 against v1,
10000 games were played v1 against v2 and 10000 games were played v2 against v2.

More datasets may be available later.

## Notebooks

Jupyter notebooks, which we used to train SoFCheck, are also lacated in this repository. Note that
the results may be not completely reproducible because of randomness.

[1]: https://github.com/alex65536/sofcheck
[2]: https://habr.com/ru/post/305604/
[3]: https://www.chessprogramming.org/Texel%27s_Tuning_Method
[4]: https://github.com/alex65536/sofcheck-engine-tester/tree/master/battlefield
[5]: https://stockfishchess.org
[6]: https://github.com/alex65536/sofcheck/tree/1c75e3088d146f12186b31cfece738db63b7857e
[7]: https://github.com/alex65536/sofcheck/tree/0a52f1392d124d912da1fb16a27526e2412c5c27
[8]: https://github.com/alex65536/sofcheck/blob/master/docs/gameset.md
